# ============================================================================
# SYSTEM UTILITIES WINDOW RULES
# ============================================================================

# ============================================================================
# GENERIC TAG-BASED RULES
# ============================================================================

# Floating windows
windowrule {
  name = floating-window-default
  match:tag = floating-window

  float = on
  center = on
  size = 875 600
}

# Hypr cheatsheet popup (footclient)
windowrule {
  name = hypr-cheatsheet-popup
  match:class = ^(hypr-cheatsheet)$
  match:title = ^(Hypr Cheatsheet)$

  tag = +floating-window +pop
  float = on
  center = on
  size = 556 840
}

# No transparency on media windows
windowrule {
  name = media-windows-opaque
  match:tag = +media

  opaque = on
}

# Popped window rounding
windowrule {
  name = popped-window-rounding
  match:tag = pop

  rounding = 8
}

# Prevent idle while open
windowrule {
  name = prevent-idle
  match:tag = noidle

  idle_inhibit = always
}

# ============================================================================
# AUDIO CONTROLS
# ============================================================================

# PulseAudio/PipeWire Volume Control
windowrule {
  name = pavucontrol-float
  match:class = ^(org\.pulseaudio\.pavucontrol|pavucontrol|Pavucontrol)$

  float = on
}

windowrule {
  name = pavucontrol-size
  match:class = ^(org\.pulseaudio\.pavucontrol)$

  center = on
  size = 1000 800
}

windowrule {
  name = pavucontrol-scratchpad
  match:class = ^(pavucontrol|Pavucontrol)$

  workspace = special:scratchpad silent
}

# ============================================================================
# BLUETOOTH & NETWORK
# ============================================================================

# Bluetooth Manager
windowrule {
  name = blueman-float
  match:class = ^(blueman-manager|Blueman-manager)$

  float = on
  center = on
  size = 600 680
}

# Network Manager Connection Editor
windowrule {
  name = network-manager-float
  match:class = ^(nm-connection-editor)$

  float = on
  center = on
  size = 600 500
}

# ============================================================================
# RGB & PERIPHERALS
# ============================================================================

# OpenRGB
windowrule {
  name = openrgb-float
  match:initial_class = ^(org\.openrgb\.OpenRGB)$

  float = on
  center = on
  size = 1142 560
}

# OpenRazer (Polychromatic)
windowrule {
  name = polychromatic-float
  match:class = ^(polychromatic)$

  float = on
  center = on
  size = 1000 500
}

# ============================================================================
# SYSTEM SETTINGS & TOOLS
# ============================================================================

# Qt5 Settings
windowrule {
  name = qt5ct-float
  match:class = ^(qt5ct)$

  float = on
  center = on
  size = 600 680
}

# Calendar
windowrule {
  name = gsimplecal-float
  match:class = ^(gsimplecal)$

  float = on
  move = cursor -34 0
}

# Seahorse (Password/Key Manager)
windowrule {
  name = seahorse-float
  match:class = ^(seahorse|Seahorse)$

  float = on
}

# ProtonVPN
windowrule {
  name = protonvpn-float
  match:class = ^(protonvpn)$

  float = on
}

# Syncthing GTK
windowrule {
  name = syncthing-gtk-float
  match:class = ^(syncthing-gtk)$

  float = on
  center = on
  size = 900 700
}

# GNOME Software Center
windowrule {
  name = gnome-software-float
  match:class = ^(org\.gnome\.Software)$

  float = on
  center = on
  size = 1100 1000
}

# NVIDIA Settings
windowrule {
  name = nvidia-settings-float
  match:class = ^(nvidia-settings)$

  float = on
  center = on
  size = 1050 750
}

# Obsidian (note-taking app)
windowrule {
  name = obsidian-workspace
  match:class = ^(obsidian)$

  workspace = 10
}

# GNOME Disks
windowrule {
  name = disks-float
  match:class = ^(org\.gnome\.DiskUtility)$

  float = on
  center = on
  size = 1140 780
}

# GNOME Calculator
windowrule {
  name = calculator-float
  match:class = ^(org\.gnome\.Calculator)$

  float = on
  center = on
  size = 427 616
}

# ============================================================================
# OFFICE & PRODUCTIVITY
# ============================================================================

# Workspace 6: Office applications
windowrule {
  name = office-workspace
  match:class = ^(libreoffice.*|Gimp|gimp)$

  workspace = 6
}

# ============================================================================
# VIRTUAL MACHINES & REMOTE
# ============================================================================

# Workspace 10: System/VMs/Remote
windowrule {
  name = system-vms-workspace
  match:class = ^(Virt-manager|virt-manager|RustDesk|rustdesk|protonvpn|winboat|Winboat)$

  workspace = 10
}

# QEMU: force opaque for better performance
windowrule {
  name = qemu-opaque
  match:class = qemu

  opaque = on
}

# scrcpy: phone screen mirroring
windowrule {
  name = scrcpy-float
  match:class = ^(scrcpy)$

  float = on
  size = 2350 1280
}

# ============================================================================
# NOTIFICATIONS
# ============================================================================

# System Trays & Indicators
windowrule {
  name = notifications-no-focus
  match:class = ^(mako|dunst)$

  no_focus = on
}

windowrule {
  name = notification-title-no-focus
  match:title = ^(Notification)$

  no_focus = on
}

# ============================================================================
# CLIPBOARD MANAGER
# ============================================================================

# Clipse clipboard manager
windowrule {
  name = clipse-float
  match:class = ^(clipse-float)$

  float = on
  center = on
  size = 800 600
}
