# ============================================================================
# MEDIA PLAYER WINDOW RULES
# ============================================================================

# Apply media tag to all media players
windowrule {
  name = media-players-tag
  match:class = ^(mpv|Mpv|vlc|zoom|org\.kde\.kdenlive|com\.obsproject\.Studio|com\.github\.PintaProject\.Pinta|imv|org\.gnome\.NautilusPreviewer)$

  tag = +media
}

# ============================================================================
# MPV RULES
# ============================================================================

# MPV: float by default with solid opacity
windowrule {
  name = mpv-float-opaque
  match:class = ^(mpv|Mpv)$

  float = on
  keep_aspect_ratio = on
  opacity = 1 override 1 override
}

# MPV YouTube videos: slight transparency (matches global default, kept for documentation)
# windowrule {
#   name = mpv-youtube-transparent
#   match:class = ^(mpv|Mpv)$
#   match:title = ^(watch\?v.*)$
#
#   opacity = 1 0.85
# }

# ============================================================================
# YTMPV (YouTube MPV) RULES
# ============================================================================

# YouTube videos in workspace 2
windowrule {
  name = ytmpv-main-video
  match:title = ^(watch\?v.*)$

  size = 1132 679
  workspace = 2
  keep_aspect_ratio = on
  move = 14 747
}

# Stream quality variants to scratchpad
windowrule {
  name = ytmpv-720p-stream
  match:title = ^(720p stream.*)$

  workspace = special:scratchpad silent
}

windowrule {
  name = ytmpv-1080p-stream
  match:title = ^(1080p stream.*)$

  workspace = special:scratchpad silent
}

# ============================================================================
# WEBCAM RULES
# ============================================================================

# CAM 01 window
windowrule {
  name = webcam-cam01
  match:title = ^(101)$

  size = 1132 680
  workspace = 2
  keep_aspect_ratio = on
  move = 14 53
}

# ============================================================================
# MUSIC PLAYER RULES
# ============================================================================

# NCMPCPP music player
windowrule {
  name = ncmpcpp-float
  match:title = (ncmpcpp)

  float = on
  size = 1200 676
  move = 13 755
}

# Spotify
windowrule {
  name = spotify-workspace
  match:class = ^(Spotify|spotify)$

  workspace = 5
}

# ============================================================================
# IMAGE/DOCUMENT VIEWERS
# ============================================================================

# Workspace 7: Image/Document viewers
windowrule {
  name = viewers-workspace
  match:class = ^(Gpicview|gpicview|Zathura|zathura|org.pwmt.zathura|swayimg_.*)$

  workspace = 7
  tag = +no-border
}
