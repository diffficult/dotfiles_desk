# ============================================================================
# DEVELOPMENT TOOLS WINDOW RULES
# ============================================================================

# Apply development tag to all IDEs and code editors
windowrule {
  name = development-tag
  match:class = ^(code|Code|code-oss|Subl|subl|Sublime_text|.*zed.*|jetbrains-.*)$

  tag = +development +no-border
}

# ============================================================================
# WORKSPACE ASSIGNMENT
# ============================================================================

# Workspace 4: All development tools
windowrule {
  name = development-workspace
  match:class = ^(code|Code|code-oss|Subl|subl|Sublime_text|.*zed.*)$

  workspace = 4
}

# ============================================================================
# JETBRAINS IDEs (IntelliJ, PyCharm, WebStorm, etc.)
# ============================================================================

# JetBrains splash screen - shows in weird places and annoying focus takeovers
windowrule {
  name = jetbrains-splash-screen
  match:class = ^(jetbrains-.*)$
  match:title = ^(splash)$
  match:float = true

  center = on
  no_initial_focus = on
  decorate = on
}

# JetBrains popups/find windows - need stay_focused for input
windowrule {
  name = jetbrains-popups
  match:class = ^(jetbrains-.*)
  match:title = ^()$
  match:float = true

  center = on
  stay_focused = on
  decorate = on
  size = (monitor_w*0.5) (monitor_h*0.5)
}

# Disable mouse focus for all JetBrains windows
windowrule {
  name = jetbrains-no-follow-mouse
  match:class = ^(jetbrains-.*)$

  no_follow_mouse = on
}

# Disable window flicker when autocomplete or tooltips appear
windowrule {
  name = jetbrains-autocomplete
  match:class = ^(jetbrains-.*)$
  match:title = ^(win.*)$
  match:float = true

  no_initial_focus = on
}
