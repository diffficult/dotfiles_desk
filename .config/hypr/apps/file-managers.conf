# ============================================================================
# FILE MANAGER WINDOW RULES
# ============================================================================

# Apply file-manager tag to all file managers
windowrule {
  name = file-managers-tag
  match:class = ^(nautilus|Nautilus|nemo|Nemo|thunar|Thunar|caja|Caja)$

  tag = +file-manager
}

# ============================================================================
# WORKSPACE ASSIGNMENT
# ============================================================================

windowrule {
  name = file-managers-workspace
  match:class = ^(Nautilus|nautilus|Nemo|nemo|Thunar|thunar)$

  workspace = 3
}

# ============================================================================
# FLOAT & SIZE RULES
# ============================================================================

# File managers float by default with consistent size
windowrule {
  name = file-managers-float
  match:class = ^(nautilus|Nautilus|nemo|Nemo|thunar|Thunar)$

  float = on
  center = on
  size = 1200 700
}

# File roller (archive manager)
windowrule {
  name = file-roller-float
  match:class = ^(file-roller|File-roller|org\.gnome\.FileRoller)$

  float = on
  center = on
}

# ============================================================================
# PREVIEW WINDOWS
# ============================================================================

# Sushi preview for GNOME file managers
windowrule {
  name = gnome-sushi-preview
  match:class = ^(org\.gnome\.sushi)$

  float = on
  center = on
  # stay_focused = on # Forces focus to remain on this window (prevents interaction with others)
}

# Custom preview windows (imv, nemo-preview)
windowrule {
  name = custom-preview-windows
  match:class = ^(imv|nemo-preview)$

  float = on
  center = on
  # stay_focused = on # Forces focus to remain on this window (prevents interaction with others)
}

# Swayimg image viewer
windowrule {
  name = swayimg-viewer
  match:class = ^(swayimg.*)$

  float = on
  center = on
  # stay_focused = on # Forces focus to remain on this window (prevents interaction with others)
  tag = +no-border
}

# ============================================================================
# DIALOG WINDOWS
# ============================================================================

# Browse/file picker dialogs
windowrule {
  name = file-manager-dialogs
  match:class = ^(nemo|nautilus|caja|thunar)$
  match:title = ^(Browse)$

  float = on
}
