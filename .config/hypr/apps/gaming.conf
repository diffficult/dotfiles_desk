# ============================================================================
# GAMING WINDOW RULES
# ============================================================================

# Apply gaming tag to all gaming-related windows
windowrule {
  name = gaming-tag-steam
  match:class = ^(steam|Steam|steam_app_.*)$

  tag = +gaming
}

windowrule {
  name = gaming-tag-retroarch
  match:class = com.libretro.RetroArch

  tag = +gaming
}

# ============================================================================
# STEAM RULES
# ============================================================================

# Steam client: float with specific size
windowrule {
  name = steam-client-float
  match:class = ^(steam|Steam)$
  match:title = ^(steam|Steam)$

  float = on
  center = on
  opacity = 1 override 1 override
  size = 2350 1280
  workspace = 8
}

# Steam friends list: smaller floating window
windowrule {
  name = steam-friends-list
  match:class = ^(steam|Steam)$
  match:title = ^(Friends List)$

  size = 460 800
  workspace = 8
}

# Steam games: prevent idle during gameplay
windowrule {
  name = steam-idle-inhibit
  match:class = ^(steam|Steam)$

  idle_inhibit = fullscreen
  workspace = 8
}

# Steam games: immediate rendering mode for better performance
windowrule {
  name = steam-games-immediate
  match:class = ^(steam_app_.*|cs2)$

  immediate = on
  workspace = 8
}

# Steam games: fullscreen by default
windowrule {
  name = steam-games-fullscreen
  match:class = ^(steam_app_.*)$

  fullscreen = on
  workspace = 8
}

# ============================================================================
# RETROARCH RULES
# ============================================================================

# RetroArch: fullscreen, opaque, prevent idle
windowrule {
  name = retroarch-gaming
  match:class = com.libretro.RetroArch

  fullscreen = on
  opaque = on
  idle_inhibit = fullscreen
}
